<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>PropIntelli - Neighborhood Insights</title>
	<link rel="stylesheet" href="styles.css" />
</head>
<body>
	<header class="header">
		<div class="container header-inner">
			<div class="logo"><a href="index.html" style="text-decoration: none; color: inherit;"><img src="Logo.png" alt="PropIntelli" /></a></div>
			<nav class="nav">
				<a href="index.html">Home</a>
				<a href="search.html">Properties</a>
				<a href="insights.html">Neighborhood Insights</a>
				<a href="#">About Us</a>
			</nav>
			<div class="spacer"></div>
			<div class="auth-buttons">
				<a class="button" href="auth.html">Login</a>
			</div>
		</div>
	</header>

	<div class="container header-inner" style="padding-top:0;">
		<div class="search-bar">
			<div class="filters">
				<div class="group">
					<input type="text" id="selectedCity" placeholder="Selected City" readonly style="background: #f3f4f6;" />
					<select>
						<option value="">Search Radius (km)</option>
						<option value="1">1 km</option>
						<option value="2">2 km</option>
						<option value="5">5 km</option>
						<option value="10">10 km</option>
						<option value="15">15 km</option>
						<option value="20">20 km</option>
						<option value="25">25 km</option>
						<option value="50">50 km</option>
					</select>
				</div>
				<div class="group">
					<div class="price-popover-container">
						<button type="button" class="price-trigger" id="priceTrigger" aria-haspopup="true" aria-expanded="false">
							Price
						</button>
						<div class="price-popover" id="pricePopover" role="dialog" aria-labelledby="priceTrigger" style="display: none;">
							<div class="popover-content">
								<div class="popover-header">
									<h3>Price Range</h3>
								</div>
								<div class="popover-body">
									<div class="input-group">
										<label for="minPrice">Min (€)</label>
										<input type="number" id="minPrice" placeholder="0" min="0" />
									</div>
									<div class="input-group">
										<label for="maxPrice">Max (€)</label>
										<input type="number" id="maxPrice" placeholder="No limit" min="0" />
									</div>
									<div class="error-message" id="priceError" style="display: none;">
										Min price cannot be greater than max price
									</div>
								</div>
								<div class="popover-footer">
									<button type="button" class="btn-secondary" id="priceClear">Clear</button>
									<button type="button" class="btn-secondary" id="priceCancel">Cancel</button>
									<button type="button" class="btn-primary" id="priceApply">Apply</button>
								</div>
							</div>
						</div>
					</div>
					<div class="size-popover-container">
						<button type="button" class="size-trigger" id="sizeTrigger" aria-haspopup="true" aria-expanded="false">
							Size
						</button>
						<div class="size-popover" id="sizePopover" role="dialog" aria-labelledby="sizeTrigger" style="display: none;">
							<div class="popover-content">
								<div class="popover-header">
									<h3>Size Range</h3>
								</div>
								<div class="popover-body">
									<div class="input-group">
										<label for="minSize">Min (m²)</label>
										<input type="number" id="minSize" placeholder="0" min="0" />
									</div>
									<div class="input-group">
										<label for="maxSize">Max (m²)</label>
										<input type="number" id="maxSize" placeholder="No limit" min="0" />
									</div>
									<div class="error-message" id="sizeError" style="display: none;">
										Min size cannot be greater than max size
									</div>
								</div>
								<div class="popover-footer">
									<button type="button" class="btn-secondary" id="sizeClear">Clear</button>
									<button type="button" class="btn-secondary" id="sizeCancel">Cancel</button>
									<button type="button" class="btn-primary" id="sizeApply">Apply</button>
								</div>
							</div>
						</div>
					</div>
					<select>
						<option value="">Rooms</option>
						<option value="1">1 room</option>
						<option value="2">2 rooms</option>
						<option value="3">3 rooms</option>
						<option value="4">4 rooms</option>
						<option value="5">5 rooms</option>
						<option value="6">6+ rooms</option>
					</select>
				</div>
				<div class="group">
					<select id="type" name="type" aria-label="Type">
						<option value="" selected>Any Type</option>
						<option value="apartment">Apartment</option>
						<option value="house">House</option>
						<option value="condo">Condo</option>
						<option value="townhouse">Townhouse</option>
						<option value="land">Land</option>
						<option value="new_build">New Build</option>
						<option value="investment">Investment</option>
						<option value="rent">For Rent</option>
						<option value="sale">For Sale</option>
					</select>
					<select>
						<option value="">Any</option>
						<option value="new_build">New build</option>
						<option value="fully_renovated">Fully renovated</option>
						<option value="move_in_ready">Move-in ready (good condition)</option>
						<option value="cosmetic_refresh">Needs cosmetic work</option>
						<option value="full_renovation">Needs full renovation</option>
					</select>
				</div>
			</div>
			<a class="button primary" href="#">Search</a>
		</div>
	</div>

	<main class="main">
		<div class="container stack">
			<div class="grid cols-4">
				<div class="card"><h3>Demographics</h3><div class="placeholder">Average salary • Population density • Education</div></div>
				<div class="card"><h3>Crime & Safety</h3><div class="placeholder">Heatmap • Safety score</div></div>
				<div class="card"><h3>Amenities</h3><div class="placeholder">Schools • Pharmacies • Hospitals • Shops</div></div>
				<div class="card"><h3>Infrastructure</h3><div class="placeholder">Transit • Parks • Roads • Business centers</div></div>
			</div>
			<div class="card"><h3>AI Neighborhood Analysis</h3>
				<div class="placeholder">Ask personalized questions about the area</div>
				<div style="margin-top:12px;">
					<button class="button primary" data-open-chat>Open Chat Assistant</button>
				</div>
			</div>
		</div>
	</main>

	<footer class="footer">
		<div class="container">© 2025 PropIntelli</div>
	</footer>

	<button class="chatbot-toggle">Chat</button>
	<div class="chatbot">
		<div class="chatbot-header">PropIntelli Assistant</div>
		<div class="chatbot-body">
			<div class="small">Ask for tailored neighborhood insights.</div>
		</div>
		<div class="chatbot-input">
			<input class="input" placeholder="Type your question..." />
			<button class="button primary">Send</button>
		</div>
	</div>

	<script>
		// Handle URL parameters from index page
		document.addEventListener('DOMContentLoaded', function() {
			const urlParams = new URLSearchParams(window.location.search);
			const selectedCityInput = document.getElementById('selectedCity');
			
			// Get parameters from URL
			const location = urlParams.get('location');
			const country = urlParams.get('country');
			const purpose = urlParams.get('purpose');
			
			console.log('URL Parameters:', { location, country, purpose });
			
			// Populate the selected city field
			if (location && selectedCityInput) {
				selectedCityInput.value = location;
				console.log('Selected city populated:', location);
			}
			
			// You can also use the country and purpose parameters for other functionality
			if (country) {
				console.log('Country from index:', country);
			}
			if (purpose) {
				console.log('Purpose from index:', purpose);
			}
		});
	</script>
	<script src="app.js"></script>
</body>
</html>

